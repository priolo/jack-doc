"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[729],{5680:(e,t,n)=>{n.d(t,{xA:()=>d,yg:()=>y});var r=n(6540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,y=u["".concat(l,".").concat(m)]||u[m]||c[m]||i;return n?r.createElement(y,s(s({ref:t},d),{},{components:n})):r.createElement(y,s({ref:t},d))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,s=new Array(i);s[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[u]="string"==typeof e?e:a,s[1]=o;for(var p=2;p<i;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3844:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var r=n(8168),a=(n(6540),n(5680));const i={id:"linked",title:"Linked",sidebar_label:"Linked",sidebar_position:5},s=void 0,o={unversionedId:"linked",id:"linked",title:"Linked",description:"Let's say we want to see the details of a USER.",source:"@site/docs/5-linked.md",sourceDirName:".",slug:"/linked",permalink:"/jon-doc/docs/linked",draft:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"linked",title:"Linked",sidebar_label:"Linked",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"List",permalink:"/jon-doc/docs/list"}},l={},p=[],d={toc:p},u="wrapper";function c(e){let{components:t,...n}=e;return(0,a.yg)(u,(0,r.A)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"Let's say we want to see the details of a USER.",(0,a.yg)("br",{parentName:"p"}),"\n","Clicking on the USERs list could make a detail CARD appear next to the list itself.",(0,a.yg)("br",{parentName:"p"}),"\n","Let's do it!"),(0,a.yg)("p",null,"As usual, let's create the STORE",(0,a.yg)("br",{parentName:"p"}),"\n",(0,a.yg)("inlineCode",{parentName:"p"},"UserDetailStore.js")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js",metastring:'title="UserDetailStore.js"',title:'"UserDetailStore.js"'},'import { mixStores } from "@priolo/jon"\nimport { viewSetup } from "@priolo/jack"\n\nconst setup = {\n\n    state: {\n\n        // USER in detail\n        user: null,\n\n        // the type of card. It will be useful in the `Render` of `CardsGroup`\n        type: "user-detail",\n    },\n\n    mutators: {\n        // set the "user in detail". Note that it returns the partial "state"\n        setUser: (user) => ({ user }),\n    },\n\n}\n\n// this STORE derives from `viewSetup`\nconst userDetailSetup = mixStores(viewSetup, setup)\nexport default userDetailSetup\n')),(0,a.yg)("p",null,'Here we simply display the two properties of "user"',(0,a.yg)("br",{parentName:"p"}),"\n",'The interesting thing is when we click on a "user" in the list',(0,a.yg)("br",{parentName:"p"}),"\n",(0,a.yg)("inlineCode",{parentName:"p"},"UserDetailCard.jsx")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-js"},'import { FrameworkCard, Header } from "@priolo/jack"\n\nconst UserDetailCard = ({\n    store,\n}) => {\n\n    const user = store.state.user\n\n    return <FrameworkCard\n        store={store}\n        headerRender={<Header store={store} />}\n    >\n        <div>NAME: {user.name}</div>\n        <div>SURNAME: {user.surname}</div>\n    </FrameworkCard>\n}\n\nexport default UserDetailCard\n')),(0,a.yg)("p",null,'Here we simply display the two properties of "user"',(0,a.yg)("br",{parentName:"p"}),"\n",'The interesting thing is when we click on a "user" in the list',(0,a.yg)("br",{parentName:"p"}),"\n",(0,a.yg)("inlineCode",{parentName:"p"},"UsersListCard.jsx")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-jsx",metastring:'title="UsersListCard.jsx"',title:'"UsersListCard.jsx"'},'import { FrameworkCard, Header } from "@priolo/jack"\nimport { createStore } from "@priolo/jon"\nimport userDetailSetup from "./UserDetailStore"\n\nconst UserListCard = ({\n    store,\n}) => {\n\n    // HANDLER\n    const handleUserClick = (user) => {\n        const detailStore = createStore(userDetailSetup)\n        detailStore.state.user = user\n        const deck = store.state.group\n        deck.addLink({ \n            parent: store, \n            view: detailStore, \n            anim: true \n        })\n    }\n\n    // RENDER\n    return <FrameworkCard\n        store={store}\n        headerRender={<Header store={store} />}\n    >\n        {store.state.all.map(user => (\n            <div key={user.id} onClick={() => handleUserClick(user)}>\n                {user.name}\n            </div>\n        ))}\n    </FrameworkCard>\n}\n\nexport default UserListCard\n')),(0,a.yg)("p",null,'So by pressing on a "user" I call ',(0,a.yg)("inlineCode",{parentName:"p"},"handleUserClick"),"\nwhich:"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"creates a new STORE from the SETUP ",(0,a.yg)("inlineCode",{parentName:"li"},"userDetailSetup")),(0,a.yg)("li",{parentName:"ul"},"assigns the selected user as its state"),(0,a.yg)("li",{parentName:"ul"},'takes into consideration the DECK where the "USER LIST STORE" is located'),(0,a.yg)("li",{parentName:"ul"},'inside the DECK inserts the created "USER DETAIL STORE" as a link of the "USER LIST STORE"')),(0,a.yg)("p",null,'So the user detail card appears "linked" to the user list CARD'),(0,a.yg)("p",null,"Don't forget to insert the CARD in the DECK render in",(0,a.yg)("br",{parentName:"p"}),"\n",(0,a.yg)("inlineCode",{parentName:"p"},"App.tsx")),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-tsx",metastring:'title="App.tsx"',title:'"App.tsx"'},'\n    ...\n\n    // RENDER\n    return (\n        <div style={cssRoot}>\n\n            <div style={{ display: "flex", flexDirection: "column" }}>\n                <Button onClick={handleAdd}>ADD CARD</Button>\n                <Button onClick={handleAddUserList}>USERS</Button>\n            </div>\n\n            <div style={cssDeck}>\n                <CardsGroup\n                    cardsStore={deckCardsSo}\n                    // based on `view.state.type` of the STORE \n                    // render the correct React CARD\n                    Render={({ view }) => (\n                        {\n                            "user-list": <UserListCard store={view} />,\n>>>                         "user-detail": <UserDetailCard store={view} />,\n                            // ...\n                        }[view.state.type] ?? <CardView store={view} /> /* <<= default */\n                    )}\n                />\n            </div>\n\n            <DragCmp />\n\n        </div>\n    )\n\n    ...\n\n')),(0,a.yg)("p",null,"The code is ",(0,a.yg)("a",{parentName:"p",href:"https://codesandbox.io/p/sandbox/05-linked-h36l8t?file=%2Fsrc%2FApp.tsx%3A14%2C1"},"here")))}c.isMDXComponent=!0}}]);